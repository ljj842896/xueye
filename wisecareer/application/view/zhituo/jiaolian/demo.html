<!DOCTYPE html>
<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title>职拓e站</title>
	<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0" />
	<meta name="MobileOptimized" content="320"/>
	<link href="//www.wisecareer.org/css/zhituo/style.css" type="text/css" rel="stylesheet" />
	<script src="//www.wisecareer.org/js/jquery-1.8.3.min.js"></script>
	<!--[if IE]>
	<script src="//www.wisecareer.org/js/html5shiv.min.js"></script>
	<![endif]-->

	<link rel="stylesheet" href="//www.wisecareer.org/layui-v2.0.1/layui/css/layui.css"  media="all">

</head>
<body>

<fieldset class="layui-elem-field layui-field-title" style="margin-top: 50px;">
	<legend>完整功能（没错，目前工具栏只有这么多）</legend>
</fieldset>

<textarea class="layui-textarea" id="LAY_demo1" style="display: none">
  把编辑器的初始内容放在这textarea即可
</textarea>

<div class="site-demo-button" style="margin-top: 20px;">
	<button class="layui-btn site-demo-layedit" data-type="content">获取编辑器内容</button>
	<button class="layui-btn site-demo-layedit" data-type="text">获取编辑器纯文本内容</button>
	<button class="layui-btn site-demo-layedit" data-type="selection">获取编辑器选中内容</button>
</div>

<fieldset class="layui-elem-field layui-field-title" style="margin-top: 50px;">
	<legend>自定义工具栏</legend>
</fieldset>

<div style="margin-bottom: 20px; width: 500px;">
	<textarea class="layui-textarea" id="LAY_demo2" style="display: none"></textarea>
</div>

<script src="//www.wisecareer.org/layui-v2.0.1/layui/layui.js" charset="utf-8"></script>
<script>
	layui.config({
		base: '//www.wisecareer.org/layui-v2.0.1/layui/' //你存放新模块的目录，注意，不是layui的模块目录
	}).use('layui'); //加载入口
	layui.define(['layer', 'form'], function(exports){
		var layer = layui.layer
				,form = layui.form;

		layer.msg('Hello World');

		exports('layui', {}); //注意，这里是模块输出的核心，模块名必须和use时的模块名一致
	});

	layui.use('layedit', function(){
		var layedit = layui.layedit
				,$ = layui.jquery;

		//构建一个默认的编辑器
		var index = layedit.build('LAY_demo1');

		//编辑器外部操作
		var active = {
			content: function(){
				alert(layedit.getContent(index)); //获取编辑器内容
			}
			,text: function(){
				alert(layedit.getText(index)); //获取编辑器纯文本内容
			}
			,selection: function(){
				alert(layedit.getSelection(index));
			}
		};

		$('.site-demo-layedit').on('click', function(){
			var type = $(this).data('type');
			active[type] ? active[type].call(this) : '';
		});

		//自定义工具栏
		layedit.build('LAY_demo2', {
			tool: ['face', 'link', 'unlink', '|', 'left', 'center', 'right']
			,height: 100
		})
	});
	wx.config({
		debug: false,//关闭调试模式
		appId: '{$signPackage["appId"]}',
		timestamp: {$signPackage["timestamp"]},
		nonceStr: '{$signPackage["nonceStr"]}',
		signature: '{$signPackage["signature"]}',
		/*appId: 'xxxxxx',
		 timestamp: xxxxx,
		 nonceStr: 'xxxxx',
		 signature: 'xxxxx',*/

		jsApiList: [
			// 所有要调用的 API 都要加到这个列表中
			'checkJsApi',
			'onMenuShareTimeline',
			'onMenuShareAppMessage',
			'onMenuShareQQ'
		]
	});
	wx.ready(function () {

		// 2. 分享接口
		// 2.1 监听"分享给朋友"，按钮点击、自定义分享内容及分享结果接口


		wx.onMenuShareAppMessage({
			title: '跨行业职业体验及现场实习平台',
			desc: '近30个行业、岗位、专题的职业（案例）体验、现场实习、多元随机评价、精准定位“职业教练”...... 积累经验值，换得未来好工作。',
			link: 'http://zt.wisecareer.org/jiaolian/demo',
			imgUrl: 'http://www.wisecareer.org/images/zhituo.jpg',//自定义图片地址
			trigger: function (res) {
				// alert('用户点击发送给朋友');
			},
			success: function (res) {
				//alert('已分享');
				//   window.location.href = 'http://m.duolehuan.com/';
			},
			cancel: function (res) {
				//alert('已取消');
			},
			fail: function (res) {
				//alert(JSON.stringify(res));
			}
		});

		// 2.2 监听"分享到朋友圈"按钮点击、自定义分享内容及分享结果接口
		wx.onMenuShareTimeline({
			title: '跨行业职业体验及现场实习平台',
			desc: '近30个行业、岗位、专题的职业（案例）体验、现场实习、多元随机评价、精准定位“职业教练”...... 积累经验值，换得未来好工作。',
			link: 'http://zt.wisecareer.org/jialian/demo',
			imgUrl: 'http://www.wisecareer.org/images/zhituo.jpg',//自定义图片地址
			trigger: function (res) {
				// alert('用户点击分享到朋友圈');
			},
			success: function (res) {
				//alert('已分享');
				//window.location.href = '';
			},
			cancel: function (res) {
				//alert('已取消');
			},
			fail: function (res) {
				//alert(JSON.stringify(res));
			}
		});
	});
</script>

<script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? "https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_1273552666'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s19.cnzz.com/z_stat.php%3Fid%3D1273552666'type='text/javascript'%3E%3C/script%3E"));</script></body>
</html>
